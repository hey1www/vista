<!doctype html>
<html lang="zh" data-theme="light" data-lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vista</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-192.png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <meta name="theme-color" content="#000000" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- 顶栏 -->
  <header class="top-bar">
    <a class="nav-button" href="https://hey1www.github.io" aria-label="home">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.5 19.5 8 12l7.5-7.5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </a>
    <div class="brand mono" data-i18n="brand">Vista</div>
    <button id="menu-toggle" class="nav-button" aria-label="settings" aria-expanded="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
    </button>
  </header>

  <!-- 主内容 -->
  <main class="content">
    <!-- 错误提示 -->
    <section id="error" class="error" hidden>
      <p id="error-message" class="mono">-</p>
      <button id="retry" class="retry-button" data-i18n="retry">重新尝试</button>
    </section>

    <!-- 经度 -->
    <section class="data-block coordinate-block" data-role="longitude">
      <!-- 按语言各自显示（CSS 通过 data-lang 控制） -->
      <span class="label lang-zh" id="longitude-label-zh">经度（东经）</span>
      <span class="label lang-en" id="longitude-label-en">Longitude (East)</span>
      <div class="value value-large mono lang-zh" id="longitude-value-zh">-</div>
      <div class="value value-large mono lang-en" id="longitude-value-en">-</div>
      <!-- 小字“经度/Longitude”说明行（可选） -->
      <span class="label" data-i18n="longitudeLabel">经度</span>
    </section>

    <!-- 纬度 -->
    <section class="data-block coordinate-block" data-role="latitude">
      <span class="label lang-zh" id="latitude-label-zh">纬度（北纬）</span>
      <span class="label lang-en" id="latitude-label-en">Latitude (North)</span>
      <div class="value value-large mono lang-zh" id="latitude-value-zh">-</div>
      <div class="value value-large mono lang-en" id="latitude-value-en">-</div>
      <span class="label" data-i18n="latitudeLabel">纬度</span>
    </section>

    <!-- 海拔 -->
    <section class="data-block muted" data-role="altitude">
      <span class="label" data-i18n="altitudeLabel">海拔</span>
      <div class="value value-large mono" id="altitude-value">- m</div>
    </section>

    <!-- 速度（可开关） -->
    <section class="data-block muted" data-role="speed" data-module="speed">
      <span class="label" data-i18n="speedLabel">当前速度</span>
      <div class="value value-large mono" id="speed-value">- km/h</div>
    </section>

    <!-- 元信息：定位时间 | 定位精度（同一行左右两栏，可开关） -->
    <section class="info-row">
      <div class="info-entry" data-module="timestamp">
        <span class="info-label" data-i18n="timestampLabel">定位获取时间</span>
        <span class="info-value mono" id="timestamp-value">-</span>
      </div>
      <div class="info-entry" data-module="accuracy">
        <span class="info-label" data-i18n="accuracyLabel">定位精度</span>
        <span class="info-value mono" id="accuracy-value">-</span>
      </div>
    </section>
  </main>

  <!-- 右侧设置侧栏 + 遮罩 -->
  <div id="backdrop" class="backdrop" hidden></div>
  <aside id="sidebar" class="sidebar" hidden aria-label="settings">
    <h2 class="sidebar-title" data-i18n="settings">设置</h2>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="language">语言</div>
      <label class="option"><input type="radio" name="lang" value="zh" checked /><span data-i18n="langZh">中文</span></label>
      <label class="option"><input type="radio" name="lang" value="en" /><span data-i18n="langEn">English</span></label>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="theme">颜色模式</div>
      <label class="option"><input type="radio" name="theme" value="light" /><span data-i18n="themeLight">浅色</span></label>
      <label class="option"><input type="radio" name="theme" value="dark" /><span data-i18n="themeDark">深色</span></label>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="detailToggle">信息细节模块</div>
      <label class="option switch"><input id="toggle-details" type="checkbox" checked /><span data-i18n="toggleOn">开启</span></label>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="speedToggle">当前速度模块</div>
      <label class="option switch"><input id="toggle-speed" type="checkbox" checked /><span data-i18n="toggleOn">开启</span></label>
      <div class="sidebar-label" data-i18n="speedUnit">速度单位</div>
      <label class="option"><input type="radio" name="speed-unit" value="kmh" checked /><span data-i18n="kmh">km/h</span></label>
      <label class="option"><input type="radio" name="speed-unit" value="ms" /><span data-i18n="ms">m/s</span></label>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="moduleSpacing">模块间距</div>
      <div class="slider-control">
        <input id="spacing-slider" type="range" min="8" max="48" step="1" value="24" />
        <span id="spacing-value" class="mono">24px</span>
      </div>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="primaryValueSize">大字信息字号</div>
      <div class="slider-control">
        <input id="value-size-slider" type="range" min="24" max="64" step="1" value="48" />
        <span id="value-size-value" class="mono">48px</span>
      </div>
    </div>

    <div class="sidebar-group">
      <div class="sidebar-label" data-i18n="contentPadding">文字与左右页边距</div>
      <div class="slider-control">
        <input id="padding-slider" type="range" min="8" max="48" step="1" value="20" />
        <span id="padding-value" class="mono">20px</span>
      </div>
    </div>
  </aside>

  <script src="i18n.js"></script>
  <script src="app.js"></script>
  <script>
    // 注册 SW
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(() => {});
    }
  </script>
</body>
</html>
